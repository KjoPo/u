{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./CaptchaGate.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CaptchaGate=_ref=>{let{onVerified}=_ref;const[captcha,setCaptcha]=useState({question:'',answer:''});const[userAnswer,setUserAnswer]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const generateCaptcha=()=>{const operations=['+','-','*'];const operation=operations[Math.floor(Math.random()*operations.length)];const num1=operation==='+'?Math.floor(Math.random()*10)+1:operation==='-'?Math.floor(Math.random()*10)+6:Math.floor(Math.random()*5)+1;const num2=operation==='*'?Math.floor(Math.random()*5)+1:operation==='-'?Math.floor(Math.random()*5)+1:Math.floor(Math.random()*10)+1;const answer=operation==='+'?num1+num2:operation==='-'?num1-num2:num1*num2;setCaptcha({question:`${num1} ${operation} ${num2}`,answer:answer.toString()});setUserAnswer('');};useEffect(()=>{generateCaptcha();},[]);const handleSubmit=e=>{e.preventDefault();setLoading(true);if(!userAnswer.trim()){setError('Please enter the CAPTCHA answer.');setLoading(false);return;}setTimeout(()=>{if(userAnswer.trim()===captcha.answer){sessionStorage.setItem('captchaVerified','true');onVerified();}else{setError('Incorrect answer. Please try again.');generateCaptcha();}setLoading(false);},500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"captcha-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"captcha-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"captcha-title\",children:\"USPS Verification\"})}),/*#__PURE__*/_jsx(\"main\",{className:\"captcha-main\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"captcha-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Human Verification Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-description\",children:\"Please solve this simple math problem to verify you're not a robot:\"}),/*#__PURE__*/_jsxs(\"div\",{className:`captcha-challenge ${error?'error-shake':''}`,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"captcha-label\",children:[\"Solve: \",/*#__PURE__*/_jsxs(\"span\",{className:\"captcha-question\",children:[captcha.question,\" = ?\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",inputMode:\"numeric\",pattern:\"[0-9]*\",value:userAnswer,onChange:e=>{setUserAnswer(e.target.value.replace(/[^0-9]/g,''));if(error)setError('');},required:true,placeholder:\"Your answer\",disabled:loading,className:`captcha-input ${error?'input-error':''}`,\"aria-label\":\"CAPTCHA answer\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:generateCaptcha,className:\"refresh-button\",disabled:loading,\"aria-label\":\"Generate new CAPTCHA\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"refresh-icon\",children:\"\\u21BB\"}),\" New Challenge\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"submit-button\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\" Verifying...\"]}):'Continue'})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"captcha-footer\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"footer-text\",children:[\"\\xA9 \",new Date().getFullYear(),\" United States Postal Service. All rights reserved.\"]})})]});};export default CaptchaGate;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CaptchaGate","_ref","onVerified","captcha","setCaptcha","question","answer","userAnswer","setUserAnswer","error","setError","loading","setLoading","generateCaptcha","operations","operation","Math","floor","random","length","num1","num2","toString","handleSubmit","e","preventDefault","trim","setTimeout","sessionStorage","setItem","className","children","onSubmit","type","inputMode","pattern","value","onChange","target","replace","required","placeholder","disabled","onClick","Date","getFullYear"],"sources":["C:/Users/O/Desktop/aka/client/src/components/CaptchaGate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './CaptchaGate.css';\n\nconst CaptchaGate = ({ onVerified }) => {\n  const [captcha, setCaptcha] = useState({ question: '', answer: '' });\n  const [userAnswer, setUserAnswer] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const generateCaptcha = () => {\n    const operations = ['+', '-', '*'];\n    const operation = operations[Math.floor(Math.random() * operations.length)];\n    const num1 =\n      operation === '+' ? Math.floor(Math.random() * 10) + 1 :\n      operation === '-' ? Math.floor(Math.random() * 10) + 6 :\n      Math.floor(Math.random() * 5) + 1;\n    const num2 =\n      operation === '*' ? Math.floor(Math.random() * 5) + 1 :\n      operation === '-' ? Math.floor(Math.random() * 5) + 1 :\n      Math.floor(Math.random() * 10) + 1;\n    const answer =\n      operation === '+' ? num1 + num2 :\n      operation === '-' ? num1 - num2 :\n      num1 * num2;\n\n    setCaptcha({ \n      question: `${num1} ${operation} ${num2}`, \n      answer: answer.toString() \n    });\n    setUserAnswer('');\n  };\n\n  useEffect(() => {\n    generateCaptcha();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (!userAnswer.trim()) {\n      setError('Please enter the CAPTCHA answer.');\n      setLoading(false);\n      return;\n    }\n\n    setTimeout(() => {\n      if (userAnswer.trim() === captcha.answer) {\n        sessionStorage.setItem('captchaVerified', 'true');\n        onVerified();\n      } else {\n        setError('Incorrect answer. Please try again.');\n        generateCaptcha();\n      }\n      setLoading(false);\n    }, 500);\n  };\n\n  return (\n    <div className=\"captcha-container\">\n      <header className=\"captcha-header\">\n        <h1 className=\"captcha-title\">USPS Verification</h1>\n      </header>\n      \n      <main className=\"captcha-main\">\n        <form onSubmit={handleSubmit} className=\"captcha-form\">\n          <h2 className=\"form-title\">Human Verification Required</h2>\n          <p className=\"form-description\">\n            Please solve this simple math problem to verify you're not a robot:\n          </p>\n          \n          <div className={`captcha-challenge ${error ? 'error-shake' : ''}`}>\n            <label className=\"captcha-label\">\n              Solve: <span className=\"captcha-question\">{captcha.question} = ?</span>\n            </label>\n            <input\n              type=\"text\"\n              inputMode=\"numeric\"\n              pattern=\"[0-9]*\"\n              value={userAnswer}\n              onChange={(e) => {\n                setUserAnswer(e.target.value.replace(/[^0-9]/g, ''));\n                if (error) setError('');\n              }}\n              required\n              placeholder=\"Your answer\"\n              disabled={loading}\n              className={`captcha-input ${error ? 'input-error' : ''}`}\n              aria-label=\"CAPTCHA answer\"\n            />\n          </div>\n          \n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n          \n          <div className=\"form-actions\">\n            <button \n              type=\"button\" \n              onClick={generateCaptcha}\n              className=\"refresh-button\"\n              disabled={loading}\n              aria-label=\"Generate new CAPTCHA\"\n            >\n              <span className=\"refresh-icon\">↻</span> New Challenge\n            </button>\n            \n            <button \n              type=\"submit\" \n              disabled={loading} \n              className=\"submit-button\"\n            >\n              {loading ? (\n                <>\n                  <span className=\"spinner\"></span> Verifying...\n                </>\n              ) : 'Continue'}\n            </button>\n          </div>\n        </form>\n      </main>\n      \n      <footer className=\"captcha-footer\">\n        <p className=\"footer-text\">\n          © {new Date().getFullYear()} United States Postal Service. All rights reserved.\n        </p>\n      </footer>\n    </div>\n  );\n};\n\nexport default CaptchaGate;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}